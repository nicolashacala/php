<?php

$contenu = array(
    1 => array(
        "titre"=>"Chou rouge aux grains d'anis vert",
        "letexte"=>"Un pique-nique aussi facile à préparer qu’agréable à picorer ? Les recettes se concentrent en temps, pas en plaisir, pour rester plus longtemps sur l’herbe que devant les fourneaux ! 
				Vite faites, bien faites, les surprises du panier font appel aux magiciens de la cuisine express pour régaler sans compliquer. 
				Zéro prise de tête pour les rois de la nappe à carreaux, misez sans complexes sur des idées faciles et transpirez sous le soleil plutôt que sous le tablier !.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    2 => array(
        "titre"=>"Tarte aux pommes à la compote",
        "letexte"=>"Un pique-nique aussi facile à préparer qu’agréable à picorer ? Les recettes se concentrent en temps, pas en plaisir, pour rester plus longtemps sur l’herbe que devant les fourneaux ! 
					Vite faites, bien faites, les surprises du panier font appel aux magiciens de la cuisine express pour régaler sans compliquer. 
					Zéro prise de tête pour les rois de la nappe à carreaux, misez sans complexes sur des idées faciles et transpirez sous le soleil plutôt que sous le tablier !",
        "ladate"=>"2013-11-15 18:20:00"
    ),
    3 => array(
        "titre"=>"Cake  aux tomates sechées",
        "letexte"=>"Si le pique-nique se veut rapide, c’est pour mieux profiter du grand air et du soleil. Une excellente raison, donc, pour déballer les jokers de la recette ! 
		          En tête desquels la tomate, rouge, ronde et gorgée de soleil, prête à aligner sur les carreaux de la nappe des bruschettas colorées de tomate au fromage frais.",
        "ladate"=>"2014-18-02 21:15:00"
    ),
    4 => array(
        "titre"=>"Tartelettes express aux tomates cerises",
        "letexte"=>"Me mini tartelettes express aux tomates cerise ou des pâtes aux tomates cerise et basilic en bocal… 
		          à moins de choisir la version séchée en cake doré aux tomates séchées, pignons de pin et jambon, ou terrine d’agneau aux tomates séchées.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    5 => array(
        "titre"=>"Madeleines au beurre et citrons",
        "letexte"=>"De quoi entamer comme il se doit les incontournables recettes bouchères et charcutières, sans stress et sans prise de tête ! 
		          Impossible de se tromper avec un sandwich au jambon et crudités, pas question de zapper le club sandwich au brie et salam.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    6 => array(
        "titre"=>"Couscous au citron rouge",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    7 => array(
        "titre"=>"Poissons empoisonnés à l'arsenic",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, 
				on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.
				De quoi entamer comme il se doit les incontournables recettes bouchères et charcutières, sans stress et sans prise de tête ! 
				Impossible de se tromper avec un sandwich au jambon et crudités, pas question de zapper le club sandwich au brie et salami",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    8 => array(
        "titre"=>"Les septs citrons à la mangue bleu mauve",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, 
		          et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    9 => array(
        "titre"=>"Neuf",
        "letexte"=>"De quoi entamer comme il se doit les incontournables recettes bouchères et charcutières, sans stress et sans prise de tête ! 
				Impossible de se tromper avec un sandwich au jambon et crudités, pas question de zapper le club sandwich au brie et salamiUne fonction est un bloc de code PHP 
				destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, 
				et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    10 => array(
        "titre"=>"Dix",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. 
		Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    11 => array(
        "titre"=>"Onze",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    12 => array(
        "titre"=>"Douze coup de midi à la sauce piquante",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    13 => array(
        "titre"=>"Treize patates et une sexy cuisinière",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, 
		           on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    ),
    14 => array(
        "titre"=>"La sauce ndole à l'eau brulé",
        "letexte"=>"Une fonction est un bloc de code PHP destiné généralement à être réutilisé plusieurs fois. Plutôt que d'écrire plusieurs fois le même morceau de code, on met celui-ci dans une fonction, et c'est cette fonction que l'on appellera dès que l'on en aura besoin.",
        "ladate"=>"2013-11-02 21:15:00"
    )
);

$page = ! empty( $_GET['page'] ) ? (int) $_GET['page'] : 1;
$total = count( $contenu ); //total items in array    
$limit = 4; //per page    
$totalPages = ceil( $total/ $limit ); //calculate total pages
$page = max($page, 1); //get 1 page when $_GET['page'] <= 0
$page = min($page, $totalPages); //get last page when $_GET['page'] > $totalPages
$offset = ($page - 1) * $limit;
if( $offset < 0 ) $offset = 0;

$contenu = array_slice( $contenu, $offset, $limit );

//Display items
foreach ($contenu as $contItem => $item) {
    ?>
             <h3><?php echo $item["titre"]; ?></h3>
             <p><?php echo $item["letexte"]; ?></p>
             <h5><?php echo $item["ladate"]; ?></h5>
    <?php }

$link = 'pagination.php?page=%d';
$pagerContainer = '<div style="width: 300px;">';   
if( $totalPages != 0 ) 
{
  if( $page == 1 ) 
  { 
    $pagerContainer .= ''; 
  } 
  else 
  { 
    $pagerContainer .= sprintf( '<a href="' . $link . '" style="color: #c00"> &#171; prev page</a>', $page - 1 ); 
  }
  $pagerContainer .= ' <span> page <strong>' . $page . '</strong> from ' . $totalPages . '</span>'; 
  if( $page == $totalPages ) 
  { 
    $pagerContainer .= ''; 
  }
  else 
  { 
    $pagerContainer .= sprintf( '<a href="' . $link . '" style="color: #c00"> next page &#187; </a>', $page + 1 ); 
  }           
}                   
$pagerContainer .= '</div>';

echo $pagerContainer;

?>